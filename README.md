# 3X-UI Auto-Installer

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ VPN-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –±–∞–∑–µ 3X-UI —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π —Å–∏—Å—Ç–µ–º—ã.

---

## üì¶ –ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **3X-UI Panel** (–≤–µ—Ä—Å–∏—è v2.8.4) ‚Äî –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN
- **Xray Core** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π VPN –¥–≤–∏–∂–æ–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π VLESS, Trojan, Shadowsocks
- **Systemd —Å–µ—Ä–≤–∏—Å** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ 3X-UI –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã
- **UFW Firewall** ‚Äî –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞
- **fail2ban** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ –∏ DDoS –∞—Ç–∞–∫
- **Certbot** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ Let's Encrypt
- **Cron** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

### –ü–∞–∫–µ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
curl wget unzip sudo socat git openssl ca-certificates
net-tools htop nano vim systemd lsb-release gnupg
apt-transport-https certbot python3-certbot cron ufw fail2ban jq
```

---

## ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è TCP/IP (sysctl)

–§–∞–π–ª: `/etc/sysctl.d/99-3xui-optimization.conf`

#### BBR Congestion Control
```
net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞ 10-40%

#### TCP Fast Open
```
net.ipv4.tcp_fastopen=3
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (latency) –Ω–∞ 1 RTT

#### TCP –ë—É—Ñ–µ—Ä—ã (128MB)
```
net.core.rmem_max=134217728
net.core.wmem_max=134217728
net.ipv4.tcp_rmem=4096 87380 134217728
net.ipv4.tcp_wmem=4096 65536 134217728
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
```
net.core.netdev_max_backlog=250000
net.core.somaxconn=65535
fs.file-max=2000000
fs.nr_open=2000000
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 2,000,000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫
```
net.ipv4.tcp_syncookies=1
net.ipv4.tcp_max_syn_backlog=8192
net.ipv4.tcp_max_tw_buckets=2000000
net.ipv4.ip_local_port_range=1024 65535
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—â–∏—Ç–∞ –æ—Ç SYN flood, IP spoofing, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–æ–≤

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
```
vm.swappiness=10
vm.dirty_ratio=15
vm.dirty_background_ratio=5
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ (swap)

#### –í–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è VPN
```
net.ipv4.ip_forward=1
net.ipv6.conf.all.forwarding=1
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ VPN —Ç—Ä–∞—Ñ–∏–∫–∞

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–∏
```
net.ipv4.conf.all.rp_filter=1
net.ipv4.conf.all.accept_source_route=0
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø—É—Ñ–∏–Ω–≥–∞ –∏ MITM –∞—Ç–∞–∫

#### TCP Keep-Alive –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```
net.ipv4.tcp_keepalive_time=600
net.ipv4.tcp_keepalive_intvl=30
net.ipv4.tcp_keepalive_probes=5
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏

#### –£–º–µ–Ω—å—à–µ–Ω–∏–µ TIME_WAIT
```
net.ipv4.tcp_fin_timeout=15
net.ipv4.tcp_tw_reuse=1
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–æ–≤

#### ARP –∫—ç—à –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```
net.ipv4.neigh.default.gc_thresh1=1024
net.ipv4.neigh.default.gc_thresh2=2048
net.ipv4.neigh.default.gc_thresh3=4096
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è ARP —Ç–∞–±–ª–∏—Ü—ã

### –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤

–§–∞–π–ª: `/etc/security/limits.d/99-3xui-limits.conf`

```
* soft nofile 1000000      # –ú–∞–∫—Å–∏–º—É–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤
* hard nofile 1000000
* soft nproc 1000000       # –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
* hard nproc 1000000
```

–§–∞–π–ª: `/etc/systemd/system.conf.d/3xui-limits.conf`

```
DefaultLimitNOFILE=1000000
DefaultLimitNPROC=1000000
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –í–∫–ª—é—á–µ–Ω–∏–µ BBR –º–æ–¥—É–ª—è —è–¥—Ä–∞

–ú–æ–¥—É–ª—å: `/etc/modules-load.d/modules.conf`

```
tcp_bbr
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** TCP BBR Congestion Control –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)

- ‚úÖ –í–∫–ª—é—á–µ–Ω–∏–µ UFW: `ufw --force enable`
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ SSH (–ø–æ—Ä—Ç 22): `ufw allow 22/tcp`
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ HTTP (–ø–æ—Ä—Ç 80): `ufw allow 80/tcp`
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ HTTPS (–ø–æ—Ä—Ç 443): `ufw allow 443/tcp`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–µ—Ä–≤–µ—Ä –∑–∞—â–∏—â–µ–Ω, –Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω –∫–ª–∏–µ–Ω—Ç–∞–º

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ fail2ban

–§–∞–π–ª: `/etc/fail2ban/filter.d/3xui.conf`
–§–∞–π–ª: `/etc/fail2ban/jail.d/3xui.conf`

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –í—Ä–µ–º—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—â–∏—Ç–∞ –ø–∞–Ω–µ–ª–∏ 3X-UI –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–§–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞: `/usr/local/bin/renew-3xui-cert.sh`
–õ–æ–≥–∏: `/var/log/3xui-cert-renewal.log`

Cron –∑–∞–¥–∞—á–∞:
```
0 3 * * 0 /usr/local/bin/renew-3xui-cert.sh YOUR_DOMAIN YOUR_EMAIL
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–ª–µ–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π

### –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ

–§–∞–π–ª: `/root/3xui-installation-report.txt`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç —Å–æ –≤—Å–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ curl
```bash
curl -Ls https://raw.githubusercontent.com/CyberERROR/3X-UI-Auto-instal/main/3x-ui-auto.sh | sudo bash
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ wget
```bash
wget -qO- https://raw.githubusercontent.com/CyberERROR/3X-UI-Auto-instal/main/3x-ui-auto.sh | sudo bash
```

### –°–ø–æ—Å–æ–± 3: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (wget)
```bash
wget https://raw.githubusercontent.com/CyberERROR/3X-UI-Auto-instal/main/3x-ui-auto.sh
chmod +x 3x-ui-auto.sh
sudo bash 3x-ui-auto.sh
```

### –°–ø–æ—Å–æ–± 4: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (curl)
```bash
curl -O https://raw.githubusercontent.com/CyberERROR/3X-UI-Auto-instal/main/3x-ui-auto.sh
chmod +x 3x-ui-auto.sh
sudo bash 3x-ui-auto.sh
```

---

## üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall –¥–ª—è –ø–∞–Ω–µ–ª–∏ 3X-UI

### –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ—Ä—Ç –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```bash
sudo ufw allow 2053/tcp
```

### –†–∞–∑—Ä–µ—à–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è –∏–Ω–±–∞—É–Ω–¥–æ–≤
```bash
# TCP –ø–æ—Ä—Ç
sudo ufw allow 8443/tcp

# UDP –ø–æ—Ä—Ç
sudo ufw allow 8443/udp

# –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤
sudo ufw allow 10000:10100/tcp
sudo ufw allow 10000:10100/udp
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
sudo ufw status
```

### –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª
```bash
sudo ufw status numbered
sudo ufw delete 5
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP
```bash
sudo ufw allow from 123.123.123.123 to any port 2053 proto tcp
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ SSH –ø–æ—Ä—Ç (22), –∏–Ω–∞—á–µ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ BBR (TCP Congestion Control)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
sysctl net.ipv4.tcp_congestion_control
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv4.tcp_congestion_control = bbr
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ qdisc
sysctl net.core.default_qdisc
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.core.default_qdisc = fq
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª—è –≤ –ø–∞–º—è—Ç–∏
lsmod | grep bbr
# –û–∂–∏–¥–∞–µ—Ç—Å—è: tcp_bbr (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤

```bash
# –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã
cat /proc/sys/fs/file-max
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 2000000
```

```bash
# –ú–∞–∫—Å–∏–º—É–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ulimit -n
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 1000000
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

```bash
# –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ulimit -u
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 1000000
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ TCP –±—É—Ñ–µ—Ä–æ–≤

```bash
# –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –ø—Ä–∏–µ–º–∞
sysctl net.ipv4.tcp_rmem
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv4.tcp_rmem = 4096 87380 134217728
```

```bash
# –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –ø–µ—Ä–µ–¥–∞—á–∏
sysctl net.ipv4.tcp_wmem
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv4.tcp_wmem = 4096 65536 134217728
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

```bash
# –ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –≤ –æ—á–µ—Ä–µ–¥–∏
sysctl net.core.somaxconn
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.core.somaxconn = 65535
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã –æ—Ç DDoS

```bash
# TCP SYN cookies (–∑–∞—â–∏—Ç–∞ –æ—Ç SYN flood)
sysctl net.ipv4.tcp_syncookies
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv4.tcp_syncookies = 1
```

```bash
# –ú–∞–∫—Å–∏–º—É–º SYN backlog
sysctl net.ipv4.tcp_max_syn_backlog
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv4.tcp_max_syn_backlog = 8192
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ IP Forwarding

```bash
# IPv4 forwarding
sysctl net.ipv4.ip_forward
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv4.ip_forward = 1
```

```bash
# IPv6 forwarding
sysctl net.ipv6.conf.all.forwarding
# –û–∂–∏–¥–∞–µ—Ç—Å—è: net.ipv6.conf.all.forwarding = 1
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏

```bash
# Swappiness (–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è swap)
sysctl vm.swappiness
# –û–∂–∏–¥–∞–µ—Ç—Å—è: vm.swappiness = 10
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ 3X-UI

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl status x-ui
# –û–∂–∏–¥–∞–µ—Ç—Å—è: active (running)
```

```bash
# –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep x-ui
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª—É—à–∞—é—â–∏—Ö –ø–æ—Ä—Ç–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ 3X-UI
netstat -tulpn | grep -E '2053|443|80'
# –û–∂–∏–¥–∞–µ—Ç—Å—è: —É–≤–∏–¥–∏—à—å —Å–ª—É—à–∞—é—â–∏–µ —Å–æ–∫–µ—Ç—ã
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Firewall

```bash
# –°—Ç–∞—Ç—É—Å UFW
ufw status
# –û–∂–∏–¥–∞–µ—Ç—Å—è: Status: active
```

```bash
# –°–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª
ufw status numbered
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –≤–∏–¥–∏—à—å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã 22, 80, 443
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ fail2ban

```bash
# –°—Ç–∞—Ç—É—Å fail2ban
systemctl status fail2ban
# –û–∂–∏–¥–∞–µ—Ç—Å—è: active (running)
```

```bash
# –°—Ç–∞—Ç—É—Å –∑–∞—â–∏—Ç—ã 3X-UI
fail2ban-client status 3xui
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∞—Ö –∏ IP
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
ss -s
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –º–Ω–æ–≥–æ TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
```

```bash
# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
netstat -an | grep ESTABLISHED | wc -l
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ —è–¥—Ä–∞

```bash
# –í–µ—Ä—Å–∏—è —è–¥—Ä–∞
uname -r
# –û–∂–∏–¥–∞–µ—Ç—Å—è: >= 4.9 (–¥–ª—è BBR)
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –û—Ç—á–µ—Ç –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ
cat /root/3xui-installation-report.txt
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –§–∞–π–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —è–¥—Ä–∞
cat /etc/sysctl.d/99-3xui-optimization.conf
```

```bash
# –§–∞–π–ª –ª–∏–º–∏—Ç–æ–≤
cat /etc/security/limits.d/99-3xui-limits.conf
```

```bash
# –§–∞–π–ª systemd –ª–∏–º–∏—Ç–æ–≤
cat /etc/systemd/system.conf.d/3xui-limits.conf
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ 3X-UI

```bash
# –†–µ–∞–ª-—Ç–∞–π–º –ª–æ–≥–∏
journalctl -u x-ui -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
journalctl -u x-ui -n 50

# –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
journalctl -u x-ui --since "1 hour ago"
```

---

## üìä –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–≤—Å–µ –≤ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É)

```bash
echo "=== BBR ===" && \
sysctl net.ipv4.tcp_congestion_control && \
echo "=== File Max ===" && \
cat /proc/sys/fs/file-max && \
echo "=== 3X-UI –°—Ç–∞—Ç—É—Å ===" && \
systemctl status x-ui --no-pager && \
echo "=== UFW –°—Ç–∞—Ç—É—Å ===" && \
ufw status && \
echo "=== –Ø–¥—Ä–æ ===" && \
uname -r
```

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–æ–∫

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|-------------------|---------|
| BBR –∞–ª–≥–æ—Ä–∏—Ç–º | bbr | `sysctl net.ipv4.tcp_congestion_control` |
| File max | 2000000 | `cat /proc/sys/fs/file-max` |
| Ulimit -n | 1000000 | `ulimit -n` |
| 3X-UI —Å—Ç–∞—Ç—É—Å | active (running) | `systemctl status x-ui` |
| UFW —Å—Ç–∞—Ç—É—Å | active | `ufw status` |
| –Ø–¥—Ä–æ | >= 4.9 | `uname -r` |

–ï—Å–ª–∏ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! ‚úÖ